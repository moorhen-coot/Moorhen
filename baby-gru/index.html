<!doctype html>
<html lang="en" class="stop-scrolling">
    <head>
        <meta charset="utf-8" />
        <link rel="icon" href="/baby-gru/favicon.ico" />
        <meta name="viewport" content="width=device-width, initial-scale=1" />
        <meta name="theme-color" content="#000000" />
        <meta name="description" content="Moorhen is a molecular graphics web application based on the Coot desktop program." />
        <link rel="manifest" href="manifest.json" />

        <script>
            // See https://github.com/facebook/react/issues/20829#issuecomment-802088260
            if (!crossOriginIsolated) SharedArrayBuffer = ArrayBuffer;
        </script>

        <!--
    Here some imports and actions to make some simple crystallographic logic available to the
    main UI thread (as opposed to the CootWorker)
  -->

        <moorhen-loader />
        <script id="MathJax-script" defer src="/mathjax/tex-svg.js"></script>
        <script>
            window.onload = async () => {
                window.MathJax = MathJax;

                //This is a dummy render with MathJax which seems to be necessary to make sure that \color works
                //properly with loaded sessions.
                const input = String.raw`{\displaystyle \sum_{i}^{\infty} \Pi{\sqrt{\pi}\sqrt{\pi}}{\color{blue}Hello}}`;
                const output = document.getElementById("mathjaxout");
                output.innerHTML = "";
                output.style.width = "0";
                output.style.height = "0";
                output.style.display = "none";
                let options = MathJax.getMetricsFor(output);
                options.display = false;
                const node = await MathJax.tex2svgPromise(input, options);
                if (node) {
                    const svg = node.getElementsByTagName("svg");
                }
            };
        </script>
        <title>Moorhen</title>
    </head>

    <body>
        <noscript>You need to enable JavaScript to run this app.</noscript>
        <div id="root"></div>
        <script type="module" src="/src/index.tsx"></script>
        <div id="mathjaxout" style="display: none"></div>
    </body>
</html>
